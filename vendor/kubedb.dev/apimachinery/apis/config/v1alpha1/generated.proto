/*
Copyright AppsCode Inc. and Contributors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/


// This file was autogenerated by go-to-protobuf. Do not edit it manually!

syntax = "proto2";

package kubedb.dev.apimachinery.apis.config.v1alpha1;

import "k8s.io/api/core/v1/generated.proto";
import "k8s.io/apimachinery/pkg/apis/meta/v1/generated.proto";
import "k8s.io/apimachinery/pkg/runtime/generated.proto";
import "k8s.io/apimachinery/pkg/runtime/schema/generated.proto";
import "kmodules.xyz/custom-resources/apis/appcatalog/v1alpha1/generated.proto";

// Package-wide variables from generator "generated".
option go_package = "v1alpha1";

// GaleraArbitratorConfiguration defines Galera ARBitrator Daemon (garbd) configuration.
// Ref: https://galeracluster.com/library/documentation/arbitrator.html
// 		https://galeracluster.com/library/documentation/backup-cluster.html
message GaleraArbitratorConfiguration {
  // Address denotes the logical name of the galera cluster. It is
  // used as the value of the variable named "wsrep_cluster_name"
  // in the replication configuration for galera
  // Ref: https://galeracluster.com/library/documentation/mysql-wsrep-options.html#wsrep-cluster-name
  optional string address = 1;

  // Group denotes the collection of cluster members by IP address
  // or resolvable domain name. This address is used as the value of the
  // variable named "wsrep_cluster_address" in the replication configuration
  // for galera. It must be in galera format.
  // Ref: https://galeracluster.com/library/documentation/mysql-wsrep-options.html#wsrep-cluster-address
  optional string group = 2;

  // SSTMethod denotes the method or script the node uses during a State Snapshot Transfer.
  // This method is needed to form the SST request string that contains SST request to
  // trigger state snapshot dump (state backup) on one of the other nodes.
  // Ref: https://galeracluster.com/library/documentation/mysql-wsrep-options.html#wsrep-sst-method
  optional string sstMethod = 3;

  // Stash defines backup and restore task definitions.
  // +optional
  optional kmodules.xyz.custom_resources.apis.appcatalog.v1alpha1.StashAddonSpec stash = 4;
}

// MongoDBConfiguration defines a MongoDB app configuration.
// https://www.vaultproject.io/api/secret/databases/index.html
// https://www.vaultproject.io/api/secret/databases/mongodb.html#configure-connection
message MongoDBConfiguration {
  // ConfigServer is the dsn of config server of mongodb sharding. The dsn includes the port no too.
  optional string configServer = 1;

  // ReplicaSets contains the dsn of each replicaset of sharding. The DSNs are in key-value pair, where
  // the keys are host-0, host-1 etc, and the values are DSN of each replicaset. If there is no sharding
  // but only one replicaset, then ReplicaSets field contains only one key-value pair where the key is
  // host-0 and the value is dsn of that replicaset.
  map<string, string> replicaSets = 2;

  // Stash defines backup and restore task definitions.
  // +optional
  optional kmodules.xyz.custom_resources.apis.appcatalog.v1alpha1.StashAddonSpec stash = 3;
}

// RedisConfiguration defines a Redis appBinding configuration.
message RedisConfiguration {
  // ClientCertSecret is the client secret name which needs to provide when the Redis client need to authenticate with client key and cert.
  // It will be used when `tls-auth-clients` value is set to `required` or `yes`.
  // +optional
  optional k8s.io.api.core.v1.LocalObjectReference clientCertSecret = 1;

  // Stash defines backup and restore task definitions.
  // +optional
  optional kmodules.xyz.custom_resources.apis.appcatalog.v1alpha1.StashAddonSpec stash = 2;
}

