metadata:
  creationTimestamp: "2025-11-06T05:52:02Z"
  generateName: mds-
  generation: 1
  labels:
    app.kubernetes.io/component: database
    app.kubernetes.io/instance: mds
    app.kubernetes.io/managed-by: kubedb.com
    app.kubernetes.io/name: mariadbs.kubedb.com
    apps.kubernetes.io/pod-index: "0"
    controller-revision-hash: mds-db658487f
    statefulset.kubernetes.io/pod-name: mds-0
  managedFields:
  - apiVersion: v1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:generateName: {}
        f:labels:
          .: {}
          f:app.kubernetes.io/component: {}
          f:app.kubernetes.io/instance: {}
          f:app.kubernetes.io/managed-by: {}
          f:app.kubernetes.io/name: {}
          f:apps.kubernetes.io/pod-index: {}
          f:controller-revision-hash: {}
          f:statefulset.kubernetes.io/pod-name: {}
        f:ownerReferences:
          .: {}
          k:{"uid":"971a96a2-fe7d-4be9-be92-c16a9bad2edb"}: {}
      f:spec:
        f:affinity:
          .: {}
          f:podAntiAffinity: {}
        f:containers:
          k:{"name":"mariadb"}:
            .: {}
            f:env:
              .: {}
              k:{"name":"MYSQL_ROOT_PASSWORD"}:
                .: {}
                f:name: {}
                f:valueFrom:
                  .: {}
                  f:secretKeyRef: {}
              k:{"name":"MYSQL_ROOT_USERNAME"}:
                .: {}
                f:name: {}
                f:valueFrom:
                  .: {}
                  f:secretKeyRef: {}
              k:{"name":"POD_IP"}:
                .: {}
                f:name: {}
                f:valueFrom:
                  .: {}
                  f:fieldRef: {}
            f:image: {}
            f:imagePullPolicy: {}
            f:name: {}
            f:ports:
              .: {}
              k:{"containerPort":3306,"protocol":"TCP"}:
                .: {}
                f:containerPort: {}
                f:name: {}
                f:protocol: {}
            f:resources:
              .: {}
              f:limits:
                .: {}
                f:cpu: {}
                f:memory: {}
              f:requests:
                .: {}
                f:cpu: {}
                f:memory: {}
            f:securityContext:
              .: {}
              f:allowPrivilegeEscalation: {}
              f:capabilities:
                .: {}
                f:drop: {}
              f:runAsGroup: {}
              f:runAsNonRoot: {}
              f:runAsUser: {}
              f:seccompProfile:
                .: {}
                f:type: {}
            f:terminationMessagePath: {}
            f:terminationMessagePolicy: {}
            f:volumeMounts:
              .: {}
              k:{"mountPath":"/run-script"}:
                .: {}
                f:mountPath: {}
                f:name: {}
              k:{"mountPath":"/scripts"}:
                .: {}
                f:mountPath: {}
                f:name: {}
              k:{"mountPath":"/var/lib/mysql"}:
                .: {}
                f:mountPath: {}
                f:name: {}
        f:dnsPolicy: {}
        f:enableServiceLinks: {}
        f:hostname: {}
        f:initContainers:
          .: {}
          k:{"name":"mariadb-init"}:
            .: {}
            f:image: {}
            f:imagePullPolicy: {}
            f:name: {}
            f:resources:
              .: {}
              f:limits:
                .: {}
                f:memory: {}
              f:requests:
                .: {}
                f:cpu: {}
                f:memory: {}
            f:securityContext:
              .: {}
              f:allowPrivilegeEscalation: {}
              f:capabilities:
                .: {}
                f:drop: {}
              f:runAsGroup: {}
              f:runAsNonRoot: {}
              f:runAsUser: {}
              f:seccompProfile:
                .: {}
                f:type: {}
            f:terminationMessagePath: {}
            f:terminationMessagePolicy: {}
            f:volumeMounts:
              .: {}
              k:{"mountPath":"/scripts"}:
                .: {}
                f:mountPath: {}
                f:name: {}
              k:{"mountPath":"/var/lib/mysql"}:
                .: {}
                f:mountPath: {}
                f:name: {}
        f:nodeSelector: {}
        f:restartPolicy: {}
        f:schedulerName: {}
        f:securityContext:
          .: {}
          f:fsGroup: {}
        f:serviceAccount: {}
        f:serviceAccountName: {}
        f:subdomain: {}
        f:terminationGracePeriodSeconds: {}
        f:topologySpreadConstraints:
          .: {}
          k:{"topologyKey":"kubernetes.io/hostname","whenUnsatisfiable":"ScheduleAnyway"}:
            .: {}
            f:labelSelector: {}
            f:maxSkew: {}
            f:topologyKey: {}
            f:whenUnsatisfiable: {}
          k:{"topologyKey":"topology.kubernetes.io/zone","whenUnsatisfiable":"ScheduleAnyway"}:
            .: {}
            f:labelSelector: {}
            f:maxSkew: {}
            f:topologyKey: {}
            f:whenUnsatisfiable: {}
        f:volumes:
          .: {}
          k:{"name":"data"}:
            .: {}
            f:name: {}
            f:persistentVolumeClaim:
              .: {}
              f:claimName: {}
          k:{"name":"init-scripts"}:
            .: {}
            f:emptyDir: {}
            f:name: {}
          k:{"name":"run-script"}:
            .: {}
            f:emptyDir: {}
            f:name: {}
    manager: petset
    operation: Update
    time: "2025-11-06T05:52:02Z"
  - apiVersion: v1
    fieldsType: FieldsV1
    fieldsV1:
      f:status:
        f:conditions:
          k:{"type":"ContainersReady"}:
            .: {}
            f:lastProbeTime: {}
            f:lastTransitionTime: {}
            f:status: {}
            f:type: {}
          k:{"type":"Initialized"}:
            .: {}
            f:lastProbeTime: {}
            f:lastTransitionTime: {}
            f:status: {}
            f:type: {}
          k:{"type":"PodReadyToStartContainers"}:
            .: {}
            f:lastProbeTime: {}
            f:lastTransitionTime: {}
            f:status: {}
            f:type: {}
          k:{"type":"Ready"}:
            .: {}
            f:lastProbeTime: {}
            f:lastTransitionTime: {}
            f:status: {}
            f:type: {}
        f:containerStatuses: {}
        f:hostIP: {}
        f:hostIPs: {}
        f:initContainerStatuses: {}
        f:phase: {}
        f:podIP: {}
        f:podIPs:
          .: {}
          k:{"ip":"10.42.0.145"}:
            .: {}
            f:ip: {}
        f:startTime: {}
    manager: k3s
    operation: Update
    subresource: status
    time: "2025-11-06T05:52:49Z"
  name: mds-0
  namespace: demo
  ownerReferences:
  - apiVersion: apps.k8s.appscode.com/v1
    blockOwnerDeletion: true
    controller: true
    kind: PetSet
    name: mds
    uid: 971a96a2-fe7d-4be9-be92-c16a9bad2edb
  resourceVersion: "942000"
  uid: 63d12ccb-b447-48f5-9b9b-693f6b71992c
spec:
  affinity:
    podAntiAffinity: {}
  containers:
  - env:
    - name: MYSQL_ROOT_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: mds-auth
    - name: MYSQL_ROOT_USERNAME
      valueFrom:
        secretKeyRef:
          key: username
          name: mds-auth
    - name: POD_IP
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: status.podIP
    image: 0.1.acdc.appscode.ninja/ghcr/appscode-images/mariadb:11.5.2-noble@sha256:10acfe8a80c3cbeffb7896305f46dbf270bbc71ef47be92bce81eb8a41503ddb
    imagePullPolicy: IfNotPresent
    name: mariadb
    ports:
    - containerPort: 3306
      name: db
      protocol: TCP
    resources:
      limits:
        cpu: 500m
        memory: 1Gi
      requests:
        cpu: 500m
        memory: 1Gi
    securityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
        - ALL
      runAsGroup: 0
      runAsNonRoot: true
      runAsUser: 999
      seccompProfile:
        type: RuntimeDefault
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/lib/mysql
      name: data
    - mountPath: /scripts
      name: init-scripts
    - mountPath: /run-script
      name: run-script
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-api-access-2cgcs
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  hostname: mds-0
  initContainers:
  - image: 0.1.acdc.appscode.ninja/ghcr/kubedb/mariadb-init:0.8.0@sha256:b4af1d18118fe9030468c0aa34eb4a44d992e354d0d16acc7380c4caf4509b30
    imagePullPolicy: IfNotPresent
    name: mariadb-init
    resources:
      limits:
        memory: 512Mi
      requests:
        cpu: 200m
        memory: 256Mi
    securityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
        - ALL
      runAsGroup: 0
      runAsNonRoot: true
      runAsUser: 999
      seccompProfile:
        type: RuntimeDefault
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/lib/mysql
      name: data
    - mountPath: /scripts
      name: init-scripts
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-api-access-2cgcs
      readOnly: true
  nodeName: arnob-dev
  nodeSelector:
    kubernetes.io/os: linux
  preemptionPolicy: PreemptLowerPriority
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 999
  serviceAccount: mds
  serviceAccountName: mds
  subdomain: mds-pods
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  topologySpreadConstraints:
  - labelSelector:
      matchLabels:
        app.kubernetes.io/component: database
        app.kubernetes.io/instance: mds
        app.kubernetes.io/managed-by: kubedb.com
        app.kubernetes.io/name: mariadbs.kubedb.com
    maxSkew: 1
    topologyKey: topology.kubernetes.io/zone
    whenUnsatisfiable: ScheduleAnyway
  - labelSelector:
      matchLabels:
        app.kubernetes.io/component: database
        app.kubernetes.io/instance: mds
        app.kubernetes.io/managed-by: kubedb.com
        app.kubernetes.io/name: mariadbs.kubedb.com
    maxSkew: 1
    topologyKey: kubernetes.io/hostname
    whenUnsatisfiable: ScheduleAnyway
  volumes:
  - name: data
    persistentVolumeClaim:
      claimName: data-mds-0
  - emptyDir: {}
    name: init-scripts
  - emptyDir: {}
    name: run-script
  - name: kube-api-access-2cgcs
    projected:
      defaultMode: 420
      sources:
      - serviceAccountToken:
          expirationSeconds: 3607
          path: token
      - configMap:
          items:
          - key: ca.crt
            path: ca.crt
          name: kube-root-ca.crt
      - downwardAPI:
          items:
          - fieldRef:
              apiVersion: v1
              fieldPath: metadata.namespace
            path: namespace
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2025-11-06T05:52:17Z"
    status: "True"
    type: PodReadyToStartContainers
  - lastProbeTime: null
    lastTransitionTime: "2025-11-06T05:52:17Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2025-11-06T05:52:49Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2025-11-06T05:52:49Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2025-11-06T05:52:05Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - allocatedResources:
      cpu: 500m
      memory: 1Gi
    containerID: containerd://35a1ab42052bd21f137d19e26f09898d9fc0da77fabede11bb314416c98bfc79
    image: sha256:39c682cd33effcd0ab68b6f85b6aea763e7c5db8d471a804e64067cef7669b76
    imageID: 0.1.acdc.appscode.ninja/ghcr/appscode-images/mariadb@sha256:10acfe8a80c3cbeffb7896305f46dbf270bbc71ef47be92bce81eb8a41503ddb
    lastState: {}
    name: mariadb
    ready: true
    resources:
      limits:
        cpu: 500m
        memory: 1Gi
      requests:
        cpu: 500m
        memory: 1Gi
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2025-11-06T05:52:49Z"
    user:
      linux:
        gid: 0
        supplementalGroups:
        - 0
        - 999
        uid: 999
    volumeMounts:
    - mountPath: /var/lib/mysql
      name: data
    - mountPath: /scripts
      name: init-scripts
    - mountPath: /run-script
      name: run-script
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-api-access-2cgcs
      readOnly: true
      recursiveReadOnly: Disabled
  hostIP: 10.2.0.227
  hostIPs:
  - ip: 10.2.0.227
  initContainerStatuses:
  - allocatedResources:
      cpu: 200m
      memory: 256Mi
    containerID: containerd://e9f0bf4db7812de7e982796a0a3920708f3d4199fb3819517615353f54a0d294
    image: sha256:e59ce0cd281635b3f1fca9d88c49e312fae3ab0448f927e0decfbba4926c3db0
    imageID: 0.1.acdc.appscode.ninja/ghcr/kubedb/mariadb-init@sha256:b4af1d18118fe9030468c0aa34eb4a44d992e354d0d16acc7380c4caf4509b30
    lastState: {}
    name: mariadb-init
    ready: true
    resources:
      limits:
        memory: 512Mi
      requests:
        cpu: 200m
        memory: 256Mi
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: containerd://e9f0bf4db7812de7e982796a0a3920708f3d4199fb3819517615353f54a0d294
        exitCode: 0
        finishedAt: "2025-11-06T05:52:17Z"
        reason: Completed
        startedAt: "2025-11-06T05:52:17Z"
    user:
      linux:
        gid: 0
        supplementalGroups:
        - 0
        - 999
        uid: 999
    volumeMounts:
    - mountPath: /var/lib/mysql
      name: data
    - mountPath: /scripts
      name: init-scripts
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-api-access-2cgcs
      readOnly: true
      recursiveReadOnly: Disabled
  phase: Running
  podIP: 10.42.0.145
  podIPs:
  - ip: 10.42.0.145
  qosClass: Burstable
  startTime: "2025-11-06T05:52:05Z"
